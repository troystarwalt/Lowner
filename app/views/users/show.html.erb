<!-- This pages handles multiple functions:
	- Shows user profile
	- Alows user to delete and or edit account.
	- Shows the items the user owns
	- Shows the items the user has loaned
	- Shows th eitems the user has borrwed
 -->


<%= @user.username %>
<%= @user.first_name %>
<%= @user.last_name %>
<%= @user.bio %>
<%= @user.cell_phone %>
<div class="clip-wrap">
	<%= image_tag @user.avatar.url(:small), class: "user_profile_element" %>
</div>

<svg width="0" height="0">
	<defs>
		<clipPath id="clip-shape" clipPathUnits="objectBoundingBox">
			<polygon points="0 1, 0 0, 1 0, 0.8 1" />
		</clipPath>
	</defs>
</svg>
<div class="search_button_area">
<button class="search_button"><%= link_to 'Search Other Users', users_path %></button>
</div>

<h1>Owned Items</h1>
<table>
	<% @user.items.each do |item| %>
	<thead>
		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Description</th>
			<th>Category</th>
			<th>Image</th>
			<th>Loaned?</th>
			<th>Loan It</th>
			<th>Delete</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><%= item.id %></td>
			<td><%= item.name %></td>
			<td><%= item.description %> </td>
			<td><%= item.category %></td>
			<td><%= image_tag item.avatar.url ('thumb') %></td>
			<td><% if @user.shared_items.empty? %>No Loaned Items<% end %></td>
			<td><button><%= link_to 'Loan', new_item_share_path(item) %></button></td>
			<td><button>
				<%= link_to 'Delete', item, method: :delete, remote: true, data: { confirm: "Are you sure?" } %>
			</button></td>
		</tr>
	</tbody>
	<% end %>
</table>
<hr>
<h1>Items I've Borrowed</h1>
<% if ItemShare.where(user_id: @userId) %>
	Sexy times
<% end %>
<hr>
<h1>Shared Items</h1>

<% if @user.shared_items.empty? %>
	No Shared Items Found
	<% else %>
	<div>
	<% @have.each do |have| %>
	<p><%= have.borrower.username %></p>
	<p><%= have.borrower.email %></p>
	<% end %>
	</div>
<% end %>



